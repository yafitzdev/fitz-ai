# fitz_ai/engines/fitz_rag/config/default.yaml
#
# Default configuration for Fitz RAG engine.
#
# This config uses:
# - String plugin specs: "provider" or "provider/model"
# - None for disabled features
# - Sensible defaults that work out of the box
#
# Minimal 3-line config example:
#   chat: anthropic/claude-sonnet-4
#   embedding: openai/text-embedding-3-small
#   collection: my_docs

fitz_rag:

  # ===========================================================================
  # Core Plugins (Required)
  # ===========================================================================

  # Chat: "provider" or "provider/model"
  # Examples: "cohere", "anthropic/claude-sonnet-4", "openai/gpt-4"
  chat: cohere

  # Embedding: "provider" or "provider/model"
  # Examples: "cohere", "openai/text-embedding-3-small", "voyage/voyage-2"
  embedding: cohere

  # Vector DB: "provider"
  # Examples: "local_faiss", "qdrant", "pinecone", "weaviate"
  vector_db: local_faiss

  # ===========================================================================
  # Optional Features (None = Disabled)
  # ===========================================================================

  # Reranker: "provider" or "provider/model"
  # Set to null to disable reranking
  # Examples: "cohere", "cohere/rerank-english-v3.0", null
  rerank: cohere

  # Vision/VLM for image parsing: "provider" or "provider/model"
  # Set to null to disable vision (figures shown as "[Figure]")
  # Examples: "openai/gpt-4o", "anthropic/claude-sonnet-4", null
  vision: null

  # ===========================================================================
  # Retrieval Configuration
  # ===========================================================================

  # Retrieval pipeline: "dense", "dense_rerank", etc.
  retrieval_plugin: dense

  # Vector DB collection name (required)
  collection: default

  # Number of chunks to retrieve
  top_k: 5

  # Fetch project artifacts with every query (navigation index, etc.)
  fetch_artifacts: false

  # ===========================================================================
  # Generation Configuration
  # ===========================================================================

  # Enable citation markers ([S1], [S2], etc.)
  enable_citations: true

  # Only generate answers from provided context
  strict_grounding: true

  # Maximum chunks in generation context
  max_chunks: 8

  # Include query in generation prompt
  include_query_in_context: true

  # Maximum answer length (null = no limit)
  max_answer_chars: null

  # ===========================================================================
  # Chunking Configuration
  # ===========================================================================

  # Default chunk size in tokens
  chunk_size: 512

  # Chunk overlap in tokens
  chunk_overlap: 0

  # Parser: "docling" (no VLM) or "docling_vision" (with VLM)
  parser: docling

  # ===========================================================================
  # Cloud Configuration (Optional)
  # ===========================================================================

  # Cloud cache (null = disabled)
  cloud: null

  # ===========================================================================
  # Logging
  # ===========================================================================

  # Log level: DEBUG, INFO, WARNING, ERROR
  log_level: INFO

  # ===========================================================================
  # Advanced: Plugin kwargs override
  # ===========================================================================
  # These are optional overrides for plugin initialization.
  # Most users don't need to set these.

  chat_kwargs: {}
  embedding_kwargs: {}
  vector_db_kwargs: {}
  rerank_kwargs: {}
  vision_kwargs: {}
